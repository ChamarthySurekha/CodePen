var TBDB=function(){var a={name:"",html:"",css:"",js:"",version:1,htmlOptions:{},cssOptions:{},jsOptions:{},dateUpdated:"",compileInRealTime:!0,ls:{},init:function(){this.loadStoredData()},loadStoredData:function(){typeof localStorage!="undefined"&&(this.ls=localStorage);var a=this.useLocalStorage()?this.ls:__tbdb;this.syncWithLocalStorage(a)},syncWithLocalStorage:function(){var a=this.localStorage;this.name=this.ls.name;this.html=this.ls.html;this.css=this.ls.css;this.js=this.ls.js;this.version=this.ls.version},useLocalStorage:function(){return this.ls.dateUpdated?!0:!1},setHTMLOption:function(a,b){this.htmlOptions[a]=b;this.ls[htmlOptions][a]=b;this.updateTimeStamp()},setCSSOption:function(a,b){a=="prefixFree"&&(b=b?"/box-libs/prefixfree.min.js":"");this.cssOptions[a]=b;this.ls[cssOptions][a]=b;this.updateTimeStamp()},setJSOption:function(a,b){this.jsOptions[a]=b;this.ls[jsOptions][a]=b;this.updateTimeStamp()},getOption:function(a,b){return a=="xml"?this.htmlOptions[b]:a=="css"?this.cssOptions[b]:this.jsOptions[b]},setEditorValue:function(a,b){if(a=="xml"||a=="html"){a="html";this.html=b}else if(a=="css")this.css=b;else{a="js";this.js=b}this.ls[a]=b;this.updateTimeStamp()},updateTimeStamp:function(){var a=new Date;yyyy=a.getFullYear();mm=a.getMonth()+1;mm=mm>9?mm:"0"+mm;dd=a.getDate();dd=dd>9?dd:"0"+dd;var b=yyyy+"-"+mm+"-"+dd,c=/\d\d:\d\d:\d\d/g,d=c.exec(a.toString());this.dateUpdated=b+" "+d[0];this.ls.dateUpdated=this.dateUpdated}};return a}();